<%-include('../partials/header.ejs')%>
    <link rel="stylesheet" href="../style/social.css">
    <style>
        .user{
    display: flex;
    width: 15rem;
    margin: 10px 0;
    padding: 5px 10px;
    transition: all 0.2s;
    border-radius: 10px;
}
.user:hover{
    background-color: #3c445a;
}
.contain{
    border-right: 1px solid #ccc;
    height: 100vh;
}
.list_message{
    width: 25rem;
}
.message_name{

}
.main_message{
    font-size: 15px;
    color: #ccc;
}
.left_menu{
    flex: 0.7;
}
.poster{
    flex: 1;
}
.message{
    flex: 2;
}
    </style>
    <%-include('../partials/nav.ejs')%>
    <main>
        <div class="social_media">
            <div class="left_menu">
                <div class="menu_container">
                    <div class="sub_menu">
                        <div class="menu_options">
                            <div class="options">
                                <div class="option_item">
                                    <a href="/user/<%=user._id%>" class="form_post">
                                        <div class="option_img">
                                                    <img src="./imgs/1249991.jpg" alt="">
                                        </div>
                                    </a>
                                    <div class="option_name">
                                        <a href="/user/<%=user._id%>" class="form_post">
                                            <span>Phan Nguyen</span>
                                        </a>
                                    </div>
                                </div>
                                <div class="option_item">
                                    <a href="" class="form_post">
                                        <div class="option_img">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" />
                                            </svg>
                                        </div>
                                        <div class="option_name">
                                            <span>Notifications
                                            </span>
                                        </div>
                                    </a>
                                </div>
                                <div class="option_item">
                                    <a href="" class="form_post">
                                        <div class="option_img">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
                                            </svg>
                                        </div>
                                        <div class="option_name">
                                            <span>Messenger
                                            </span>
                                        </div>
                                    </a>
                                </div>
                                <div class="option_item">
                                    <a href="" class="form_post">
                                        <div class="option_img">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                                            </svg>
            
                                        </div>
                                        <div class="option_name">
                                            <span>Your Favorate
                                            </span>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="poster">
                <div class="contain">
                    <div class="list_message">
                        <%users.forEach(u=>{%>                
                            <div class="user">
                                <a href="/figure-wiki/<%=u._id%>" class="form_post">
                                    <div class="option_img">
                                        <%if(user.image.img_url){%>
                                            <img src="<%=u.image.img_url%>" alt="">
                                        <%}else{%>
                                                <img src="/detail/unknow.png" alt="">
                                        <%}%>
                                    </div>
                                </a>
                                <div class="message_name">
                                    <p class="form_post">
                                        <span><%=u.username%></span>
                                    </p>
                                    <p class="main_message">
                                        <span>Hello world</span>
                                    </p>
                                </div>
                            </div>     
                        <%})%>
                    </div>
                </div>
            </div>
            <div class="message">
                <div class="main_message">
                    <div class="header_message">
                        <div class="option_img">
                            <img src="https://scontent.fsgn2-6.fna.fbcdn.net/v/t39.30808-6/279095969_1926112194242983_641351116880888048_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=EsOISS8rkAYAX8J5BLg&_nc_ht=scontent.fsgn2-6.fna&oh=00_AfAGP3hmQK30GJXb44narFwnik0R-eBHvi2ORHv4ocv9fw&oe=63768A75" alt="">
                        </div>
                        <div class="option_name">
                                <span>Phan Nguyen</span>
                        </div>
                    </div>
                    <div class="message_body">
                    </div>
                    <form id="send-container">
                        <input type="text" id="message-input">
                        <button type="submit" id="send-button">Send</button>
                      </form>
                </div>
            </div>
        </div>
    </main>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        let roomName = '<%=roomName%>' 
        let name = '<%=user._id%>'
    </script>
    <script src="/script/socketHandle.js"></script>
<%-include('../partials/footer.ejs')%>